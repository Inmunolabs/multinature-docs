# 3.0 App, Rutinas y Seguimiento ‚Äì Documento Completo

## üéØ Objetivo
Centralizar y estabilizar toda la l√≥gica de **rutinas**, **PDFs**, **seguimiento del paciente** y **RoutinesAgent**, garantizando una experiencia s√≥lida en app y panel.

---

# 1. EPICAS PRINCIPALES

## 1.1. PDFs de Rutinas (Profesional + Legible)
### Problemas actuales
- Formato b√°sico / sin estilo.
- No incluye descansos, series, repeticiones correctamente.
- No refleja estructura semanal.
- No se integra con app.

### Entregables
- Generador PDF profesional.
- Layout semanal detallado.
- Logo, datos del paciente, datos del especialista.
- Exportaci√≥n desde backend y panel.
- Versi√≥n para WhatsApp/email.

### Tareas
- [ ] Template PDF profesional.
- [ ] API para generar PDF por semana.
- [ ] Ajustar DTO para incluir descansos.
- [ ] Exportar desde panel (bot√≥n ‚ÄúDescargar PDF‚Äù).
- [ ] Integraci√≥n app (descarga m√≥vil).

---

## 1.2. CRUD de Rutinas por Semana
### Problemas
- Rutinas no est√°n estructuradas por semana.
- UI confusa.
- Backend con campos dispersos.

### Entregables
- CRUD completo semanal.
- Asociaci√≥n ejercicio ‚Üê‚Üí d√≠a.
- Consistencia entre semana 1 y semana N.
- Eliminaci√≥n de legacy.

### Tareas
- [ ] Endpoint CREATE semana.
- [ ] Endpoint UPDATE semana.
- [ ] Endpoint DELETE semana.
- [ ] Validaciones: d√≠as, ejercicios, repeticiones.
- [ ] Limpieza de c√≥digo viejo.

---

## 1.3. RoutinesAgent (Generaci√≥n + Edici√≥n)
### Problemas
- No existe l√≥gica estable para IA.
- Sin modelo cl√≠nico de rutinas (fuerza, cardio, etc.)
- Falta editor manual.

### Entregables
- RoutinesAgent funcional.
- Generaci√≥n autom√°tica por objetivo.
- Edici√≥n por parte del especialista.
- Integraci√≥n completa con app.

### Tareas
- [ ] Modelo IA para rutinas.
- [ ] Endpoint generate routine.
- [ ] Editor visual (Diego).
- [ ] Trazabilidad de cambios.

---

## 1.4. Seguimiento del Paciente (App)
### Problemas
- App no tiene rutinas completas.
- Sin gr√°ficas de progreso.
- Sin notificaciones.

### Entregables
- Rutinas visibles desde app.
- Marcar ejercicios completados.
- Progreso semanal.
- Notificaciones push.

### Tareas
- [ ] API seguimiento.
- [ ] UI seguimiento app (Pandalatec).
- [ ] Endpoint ‚Äúcomplete exercise‚Äù.
- [ ] Gr√°ficas progreso.

---

# 2. DEPENDENCIAS

1. PDFs dependen del CRUD semanal.
2. CRUD semanal depende del DTO limpio.
3. RoutinesAgent depende de CRUD + SMAE estable (tiempos, equivalentes).
4. App depende de API seguimiento funcional.

---

# 3. ASIGNACI√ìN POR ROL

## Samuel
- CRUD backend.
- Generador PDF.
- RoutinesAgent backend.

## Miguel
- Arquitectura DTO rutinas.
- Integraci√≥n con app.
- Reglas del agente.

## Diego
- UI CRUD.
- Editor IA.
- Descarga PDF.

## Erick
- Backend soporte CRUD.
- Validaciones.
- Tareas repetitivas.

## Cristopher
- Limpieza DTO.
- Testing manual.

## Antoine
- Dise√±o de rutinas.
- UX propias de entrenamiento.

## Leo
- QA completo de rutinas.
- QA de PDF.

---

# 4. STORY POINTS

| √âpica | SP |
|------|----|
| PDFs | 20 |
| CRUD Semanal | 26 |
| RoutinesAgent | 34 |
| Seguimiento App | 20 |

Total: **100 SP**

---

# 5. HORAS ESTIMADAS

| Rol | Horas |
|-----|-------|
| Samuel | 70h |
| Miguel | 30h |
| Diego | 40h |
| Erick | 35h |
| Cristopher | 18h |
| Antoine | 20h |
| Leo | 15h |

Total: **228 horas**

---

# 6. ENTREGAS POR SPRINT

## Sprint 3 ‚Äì Rumbo a 1.1
- CRUD semanal base
- PDFs versi√≥n 1
- API seguimiento

## Sprint 4 ‚Äì Cierre 1.1
- RoutinesAgent completo
- Editor IA
- Progreso en app
- PDFs finales

---

# 7. RIESGOS
- Rutinas requieren m√°s validaci√≥n que dietas.
- App depende del partner externo.
- PDFs pueden ser lentos sin cach√©.

---

# 8. DOCUMENTACI√ìN
- `/doc/routines-crud.md`
- `/doc/routines-agent.md`
- `/doc/pdf-routines.md`
